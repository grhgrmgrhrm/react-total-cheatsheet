# `Express API` Cheatsheet :metal:

[–ù–∞ –≥–ª–∞–≤–Ω—É—é](../README.md)

> [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ `Express` –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ](https://expressjs.com/ru/)&nbsp;&nbsp;üëÄ

### –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [express](#express)
- [Application (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)](#app)
- [Request (–∑–∞–ø—Ä–æ—Å)](#request)
- [Response (–æ—Ç–≤–µ—Ç)](#response)
- [Router (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä)](#router)

## `express()` <a name="express"></a>

- [–ú–µ—Ç–æ–¥—ã](#methods)

–°–æ–∑–¥–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `Express`.

```js
const express = require('express')
const app = express()
```

<div align="right">
  <b><a href="#">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## –ú–µ—Ç–æ–¥—ã <a name="express_methods"></a>

- [express.json](#express_json)
- [express.static](#express_static)
- [express.Router](#express_router)
- [express.urlencoded](#express_urlencoded)

<div align="right">
  <b><a href="#express">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `express.json(options?)` <a name="express_json"></a>

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫, —Ä–∞–∑–±–∏—Ä–∞—é—â–∏–π –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –æ–±—ä–µ–∫—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ `body-parser`. –†–∞–∑–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (`req.body`). –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–µ –±—ã–ª–æ, `Content-Type` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `application/json` –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç (`{}`).

```js
app.use(express.json())
```

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: —Ñ–æ—Ä–º–∞ `req.body` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —è–≤–ª—è—é—Ç—Å—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–º–∏ (untrusted) –∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (options)

- `inflate: true` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∂–∞—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `limit: '100kb'` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ —á–∏—Å–ª–∞ (–±–∞–π—Ç—ã) –∏–ª–∏ —Å—Ç—Ä–æ–∫–∏ (—Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `bytes`)
- `reviver: null` - –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –≤ `JSON.parse()`
- `strict: true` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –º–∞—Å—Å–∏–≤–æ–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤
- `type: 'application/json'` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞-—Ç–∏–ø–∞, —Ä–∞–∑–±–∏—Ä–∞–µ–º–æ–≥–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏, –º–∞—Å—Å–∏–≤–∞ —Å—Ç—Ä–æ–∫ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏
- `verify: undefined` - `verify(req, res, buf, encoding)`, –≥–¥–µ `buf` - —ç—Ç–æ `Buffer` –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ (raw) —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞, –∞ `encoding` - –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞

<div align="right">
  <b><a href="#express_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `express.static(root, options?)` <a name="express_static"></a>

–í—Å—Ä–æ–µ–Ω–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (serve) —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤. –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `serve-static`.

`root` - –∫–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏. –§–∞–π–ª—ã –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ `req.url` —Å `root`. –ï—Å–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Ç–æ –≤–º–µ—Å—Ç–æ –æ—Ç–≤–µ—Ç–∞ 404, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `next()` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ—Å—Ä–µ–¥–Ω–∏–∫—É, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- `dotfiles: 'ignore'` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å —Ç–æ—á–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, `.env`
- `etag: true` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è <a href="https://ru.wikipedia.org/wiki/HTTP_ETag">`etag`</a>
- `extensions: false` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, `['html', 'htm']`
- `fallthrough: true` - –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –æ—à–∏–±–∫–∞–º –ø—Ä–æ–≤–∞–ª–∏–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `immutable: false` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π `immutable` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –æ—Ç–≤–µ—Ç–∞ `Cache-Control`. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `maxAge`. –î–∏—Ä–µ–∫—Ç–∏–≤–∞ `immutable` –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –¥–µ–ª–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ `maxAge`
- `index: 'index.html'` - –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã–π (–≥–ª–∞–≤–Ω—ã–π) —Ñ–∞–π–ª –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `lastModified: true` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Last-Modified` —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- `maxAge: 0` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç) –∫—ç—à–∞ –≤ –º—Å –∏–ª–∏ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏
- `redirect: true` - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–º—É `/` –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—É—Ç–∏ - —ç—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- `setHeaders` - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞. –°–∏–≥–Ω–∞—Ç—É—Ä–∞: `fn(res, path, stat)`, –≥–¥–µ `res` - –æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞, `path` - –∞–¥—Ä–µ—Å —Ñ–∞–π–ª–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏, `stat` - –æ–±—ä–µ–∫—Ç —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Ñ–∞–π–ª–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏

#### –ü—Ä–∏–º–µ—Ä

–ò–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

```js
const options = {
  dotfiles: 'ignore',
  etag: false,
  extensions: ['htm', 'html'],
  index: false,
  maxAge: '1d',
  redirect: false,
  setHeaders: function (res, path, stat) {
    res.set('x-timestamp', Date.now())
  }
}

app.use(express.static('public', options))
```

–û–±—ã—á–Ω–æ, –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—É—Ç—å –∫ `root`:

```js
app.use(express.static(path.join(__dirname, 'public'))) // path.resolve()
```

<div align="right">
  <b><a href="#express_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `express.Router(options?)` <a name="express_router"></a>

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ä–æ—É—Ç–µ—Ä–∞.

```js
const router = express.Router()
// –∏–ª–∏
const router = require('express').Router()
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- `caseSensitive: false` - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É (`/Foo` –∏ `/foo` - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã)
- `mergeParams: false` - –µ—Å–ª–∏ –¥–æ—á–µ—Ä–Ω–∏–µ –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç, –¥–æ—á–µ—Ä–Ω–∏–µ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- `strict: false` - —Å—Ç—Ä–æ–≥–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (`/foo` –∏ `/foo/` - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã)

<div align="right">
  <b><a href="#express_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### express.urlencoded(options?) <a name="express_urlencoded"></a>

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫, —Ä–∞–∑–±–∏—Ä–∞—é—â–∏–π –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `application/x-www-form-urlencoded` –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ—Ä—Ç–µ–∂–∞—Ö —Å –∫–ª—é—á–æ–º, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–º `&`, —Å `=` –º–µ–∂–¥—É –∫–ª—é—á–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º: `?foo=bar&baz=qux`). –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ `body-parser`. –í —Ü–µ–ª–æ–º, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `express.json()`.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- `extended: true` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞: `qs` - `true`, `querystring` - `false`. –ì—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, `extended: true` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `req.body` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, `extended: false` - —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏
- `inflate: true` - —Å–º. `express.json()`
- `limit: '100kb'` - —Å–º. `express.json()`
- `parameterLimit: 1000` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `type: application/x-www-form-urlencoded` - —Å–º. `express.json()`
- `verify: undefined` - —Å–º. `express.json()`

<div align="right">
  <b><a href="#express_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## Application (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) <a name="app"></a>

- [–°–≤–æ–π—Å—Ç–≤–∞](#app_props)
- [–°–æ–±—ã—Ç–∏—è](#app_events)
- [–ú–µ—Ç–æ–¥—ã](#app_methods)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `Express`.

```js
const express = require('express')
const app = express()

app.get('/', (req, res) => {
  res.send('–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!')
})
```

–û–±—ä–µ–∫—Ç `app` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è

- —Ä–æ—É—Ç–∏–Ω–≥–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, `app.METHOD` –∏ `app.param`
- –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤, `app.route()`
- —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (views) HTML, `app.render()`
- —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤, `app.engine()`

<div align="right">
  <b><a href="#">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### –°–≤–æ–π—Å—Ç–≤–∞ <a name="app_props"></a>

- [app.locals](#app_locals)
- [app.mountpath](#app_mountpath)

<div align="right">
  <b><a href="#app">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.locals` <a name="app_locals"></a>

–û–±—ä–µ–∫—Ç, —Å–≤–æ–π—Å—Ç–≤–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```js
console.log(app.locals.title) // My App
console.log(app.locals.email) // my@email.com
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∑–Ω–∞—á–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤ `app.locals` –±—É–¥—É—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `res.locals`, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–ø—Ä–æ—Å–∞.

–õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —à–∞–±–ª–æ–Ω–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –û–Ω–∏ —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞—Ö —á–µ—Ä–µ–∑ `req.app.locals`.

```js
app.locals.title = 'My App'
app.locals.email = 'my@email.com'
```

<div align="right">
  <b><a href="#app_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.mountpath` <a name="app_mountpath"></a>

–î–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª–µ–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—É—Ç–µ–π –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É–±–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (sub-apps - —ç–∫–∑–µ–º–ø–ª—è—Ä `express`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ –º–∞—Ä—à—Ä—É—Ç—É):

```js
const express = require('express')

const app = express() // –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
const admin = express() // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

admin.get('/', (req, res) => {
  console.log(admin.mountpath) // /admin
  res.send('Admin Homepage')
})

app.use('/admin', admin) // –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

–≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Å–≤–æ–π—Å—Ç–≤–æ `baseUrl` –æ–±—ä–µ–∫—Ç–∞ `req`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ `req.baseUrl` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–≤–ø–∞–≤—à–∏–π –ø—É—Ç—å URL, –∞ –Ω–µ —Å–æ–≤–ø–∞–≤—à–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.

- `app.router` - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞. –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–æ—Å—Ç—É–ø–µ

```js
const express = require('express')
const app = express()
const { router } = app

router.get('/', (req, res) => {...})

app.listen(5000)
```

<div align="right">
  <b><a href="#app_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### –°–æ–±—ã—Ç–∏—è <a name="app_events"></a>

#### `app.on('mount', callback(parent))`

–°–æ–±—ã—Ç–∏–µ, –≤–æ–∑–Ω–∏–∫–∞—é—â–µ–µ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ. –ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–æ–ª–±–µ–∫.

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ.

```js
const admin = express()

admin.on('mount', (parent) => {
  console.log('Admin Mounted')
  console.log(parent) // —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
})

admin.get('/', (req, res) => {...})

app.use('/admin', admin)
```

<div align="right">
  <b><a href="#app">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### –ú–µ—Ç–æ–¥—ã <a name="app_methods"></a>

- [app.all](#app_all)
- [app.delete](#app_delete)
- [app.disable, app.enable](#app_disable)
- [app.disabled, app.enabled](#app_disabled)
- [app.engine](#app_engine)
- [app.get(name)](#app_get_name)
- [app.get(path)](#app_get_path)
- [app.listen(path)](#app_listen_path)
- [app.listen(port)](#app_listen_port)
- [app.METHOD](#app_method)
- [app.param](#app_param)
- [app.path](#app_path)
- [app.post](#app_post)
- [app.put](#app_put)
- [app.render](#app_render)
- [app.route](#app_route)
- [app.set](#app_set)
- [app.use](#app_use)

<div align="right">
  <b><a href="#app">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.all(path, callback)` <a name="app_all"></a>

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ø–æ—Ö–æ–∂ –Ω–∞ –æ–±—ã—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã `app.METHOD()`, –Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –≥–ª–∞–≥–æ–ª–æ–≤ HTTP.

–ê—Ä–≥—É–º–µ–Ω—Ç—ã

- `path: '/'` - –ø—É—Ç—å –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏, –ø–∞—Ç—Ç–µ—Ä–Ω–∞, —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –º–∞—Å—Å–∏–≤–∞
- `callback` - –ø–æ—Å—Ä–µ–¥–Ω–∏–∫, –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—è—Ç—ã–º–∏, –º–∞—Å—Å–∏–≤ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤, –∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è

–°–ª–µ–¥—É—é—â–∏–π –∫–æ–ª–±–µ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ `/secret` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ª—é–±–æ–≥–æ HTTP-–º–µ—Ç–æ–¥–∞ (GET, POST, PUT, DELETE –∏ —Ç.–¥.):

```js
app.all('/secret', (req, res, next) => {
  console.log('–î–æ—Å—Ç—É–ø –∫ –∑–∞–∫—Ä—ã—Ç–æ–º—É —Ä–∞–∑–¥–µ–ª—É...')
  next() // –ø–µ—Ä–µ–¥–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É
})
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```js
app.all('*', requireAuthentication, loadUser)
```

–ü—Ä–∏–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–ª–±–µ–∫–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ø—É—Ç—è–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `/api`:

```js
app.all('/api/*', requireAuthentication)
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.delete(path, callback)` <a name="app_delete"></a>

–í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±–µ–∫ –ø—Ä–∏ DELETE-–∑–∞–ø—Ä–æ—Å–∞—Ö –∫ `path`. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º `app.all()`.

```js
app.delete('/user/remove/:id', async (req, res) => {
  try {
    // –∏–∑–≤–ª–µ–∫–∞–µ–º `id` –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞
    const { id } = req.params
    // –∏—Å–ø–æ–ª—å–∑—É–µ–º Mongoose-–º–æ–¥–µ–ª—å `User` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ `id`
    const user = await User.findById(id)
    // —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª–∏
    // –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    // —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –ª–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–µ–µ
    const match = user.password === req.body.password
    // –µ—Å–ª–∏ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç
    if (!match) return res.status(400).json({ error: '–í–≤–µ–¥–µ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å' })
    // —É–¥–∞–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    await User.findByIdAndRemove(id)
    res.sendStatus(200)
  } catch (err) {
    res.sendStatus(500)
  }
})
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.disable(name)` –∏ `app.enable(name)` <a name="app_disable"></a>

`app.disable(name)` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`name`) –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `false`. `app.enable(name)` –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.disabled(name)` –∏ `app.enabled(name)` <a name="app_disabled"></a>

`app.disabled(name)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞. `app.enabled(name)` - –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.engine(ext, callback)` <a name="app_engine"></a>

–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–ª–±–µ–∫ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ –∫–∞–∫ `ext`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç `.__express` –∏–∑ –∫–æ—Ä–æ–±–∫–∏. –ü—Ä–∏–º–µ—Ä –ø—Ä–∏–≤—è–∑–∫–∏ `EJS` –∫ —Ñ–∞–π–ª–∞–º —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.html`:

```js
app.engine('html', require('ejs').renderFile)
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.get(name)` <a name="app_get_name"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`name`). –ù–µ –ø—É—Ç–∞–π—Ç–µ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –º–µ—Ç–æ–¥–æ–º.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.get(path, callback)` <a name="app_get_path"></a>

–í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±–µ–∫ –ø—Ä–∏ GET-–∑–∞–ø—Ä–æ—Å–∞—Ö –∫ `path`. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º `app.all()`.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ `Passport.js` –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é Google-–∞–∫–∫–∞—É–Ω—Ç–∞.

```js
app.get('/google',
  passport.authenticate('google', {
    scope: ['profile']
  }))
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.listen(path, callback?)` <a name="app_listen_path"></a>

–ó–∞–ø—É—Å–∫–∞–µ—Ç UNIX-—Å–æ–∫–µ—Ç –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∞–¥—Ä–µ—Å—É. –ù–µ –ø—É—Ç–∞–π—Ç–µ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –º–µ—Ç–æ–¥–æ–º. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∏–¥–µ–Ω—Ç–∏—á–µ–Ω `http.Server.listen()` –∏–∑ `Node.js`.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### `app.listen(port, host?, backlog?, callback)` <a name="app_listen_port"></a>

–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (binds) –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –ø–æ—Ä—Ç—É –∏ —Ö–æ—Å—Ç—É. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —Ç–∞–∫–∂–µ –∏–¥–µ–Ω—Ç–∏—á–µ–Ω `http.Server.listen()`.

–ï—Å–ª–∏ –ø–æ—Ä—Ç –Ω–µ —É–∫–∞–∑–∞–Ω –∏–ª–∏ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è `0`, –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–æ—Ä—Ç.

```js
const express = require('express')
const app = express()
app.listen(process.env.PORT || 5000)
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ `express()` - –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –≤—Å–µ–≥–æ –ª–∏—à—å —Ñ—É–Ω–∫—Ü–∏—è, —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–ª–±–µ–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Node.js-—Å–µ—Ä–≤–µ—Ä. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å HTTP –∏ HTTPS –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã:

```js
const express = require('express')
const https = require('https')
const http = require('http')
const app = express()

http.createServer(app).listen(80)
https.createServer(options, app).listen(443)
```

–ú–µ—Ç–æ–¥ `app.listen()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `http.Server`, –∫–æ—Ç–æ—Ä—ã–π (–¥–ª—è HTTP) –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js
app.listen = function () {
  const server = http.createServer(this)
  return server.listen.apply(server, arguments)
}
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.METHOD(path, callback)` <a name="app_method"></a>

–í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±–µ–∫ –ø—Ä–∏ HTTP-–∑–∞–ø—Ä–æ—Å–∞—Ö –∫ `path` c –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ `METHOD`. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º `app.all()`.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### –ú–µ—Ç–æ–¥—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

`Express` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤:

- `checkout`
- `copy`
- `delete`
- `get`
- `head`
- `lock`
- `merge`
- `mkactivity`
- `mkcol`
- `move`
- `m-search`
- `notify`
- `options`
- `patch`
- `post`
- `purge`
- `put`
- `report`
- `search`
- `subscribe`
- `trace`
- `unlock`
- `unsubscribe`

–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–µ—Ç–æ–¥—ã (GET, POST, PUT –∏ DELETE), –Ω–æ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫–∂–µ.

–î–ª—è –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫–æ–±–æ—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, `app['m-search']('/', (req, res) => {...})`.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.param(name, callback)` <a name="app_param"></a>

–î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–±–µ–∫, –∑–∞–ø—É—Å–∫–∞–µ–º—ã–π –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞, –≥–¥–µ `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–ª–∏ –º–∞—Å—Å–∏–≤ —Ç–∞–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π. –ü–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∫–æ–ª–±–µ–∫–∞ —è–≤–ª—è—é—Ç—Å—è: –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞, –æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞, –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ `next()`, –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ (–∏–º–µ–Ω–Ω–æ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ).

–ï—Å–ª–∏ `name` - —ç—Ç–æ –º–∞—Å—Å–∏–≤, `callback` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ, –≤—ã–∑–æ–≤ `next()` –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–ª–±–µ–∫ –¥–ª—è —Å–ª–µ–¥—é—É—â–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –í—ã–∑–æ–≤ `next()` –≤ –∫–æ–ª–±–µ–∫–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ—Å—Ä–µ–¥–Ω–∏–∫—É.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –≤ –∞–¥—Ä–µ—Å–µ –º–∞—Ä—à—Ä—É—Ç–∞ –∏–º–µ–µ—Ç—Å—è `:user`, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è `req.user` –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—É –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

```js
app.param('user', async (req, res, next, id) => {
  try {
    // –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∏—Ö –∫ –æ–±—ä–µ–∫—Ç—É –∑–∞–ø—Ä–æ—Å–∞
    const user = await User.findById(id)
    if (!user) return res.status(404).json({ error: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω' })
    req.user = user
    next()
  } catch (err) {
    next(err)
  }
})
```

–ö–æ–ª–±–µ–∫ —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–ª—è —Ä–æ—É—Ç–µ—Ä–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω –æ–ø—Ä–µ–¥–µ–ª–µ–Ω.

–¢–∞–∫–∏–µ –∫–æ–ª–±–µ–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –æ–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ —Ü–∏–∫–ª–µ –∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ–≤–ø–∞–¥–∞–µ—Ç –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤:

```js
app.param('id', (req, res, next, id) => {
  console.log('–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑')
  next()
})

app.get('/user/:id', (req, res, next) => {
  console.log('–ü–∞—Ä–∞–º–µ—Ç—Ä —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —ç—Ç–∏–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–º')
  next()
})

app.get('/user/:id', (req, res) => {
  console.log('–ò —Å —ç—Ç–∏–º —Ç–æ–∂–µ')
  res.end()
})
```

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `/user/42`, –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º:

```
–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
–ü–∞—Ä–∞–º–µ—Ç—Ä —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —ç—Ç–∏–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–º
–ò —Å —ç—Ç–∏–º —Ç–æ–∂–µ
```

```js
app.param(['id', 'page'], (req, res, next, value) => {
  console.log('–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º ', value)
  next()
})

app.get('/user/:id/:page', (req, res, next) => {
  console.log('–ï—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ')
  next()
})

app.get('/user/:id/:page', (req, res) => {
  console.log('–ò –µ—â–µ –æ–¥–Ω–æ')
  res.end()
})
```

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `/user/42/3` –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç —Ç–∞–∫–∏–º:

```
–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 42
–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 3
–ï—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
–ò –µ—â–µ –æ–¥–Ω–æ
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.path()` <a name="app_path"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–±—ã—á–Ω–æ, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–∫–æ–≥–æ –ø—É—Ç–∏ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `req.baseUrl()`.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.post(path, callback)` <a name="app_post"></a>

–í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±–µ–∫ –ø—Ä–∏ POST-–∑–∞–ø—Ä–æ—Å–∞—Ö –∫ `path`. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º `app.all()`.

–ü—Ä–∏–º–µ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```js
// –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î
// –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö,
// –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ `express-validator`
app.post('/user/register', registerValidators, async (req, res) => {
  const { username, password } = req.body

  // —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î,
  // –æ–Ω –ø–æ–¥–≤–µ—Ä–≥–∞–µ—Ç—Å—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `bcrypt`
  const hashedPassword = await generatePassword(password)

  try {
    const newUser = new User({
      username,
      hashedPassword
    })

    const savedUser = await newUser.save()

    // –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–∫–µ–Ω—ã, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä,
    // —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `jsonwebtoken` (–æ–¥–∏–Ω –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
    const token = generateToken(savedUser)

    res.status(200).json({ user: savedUser, token })
  } catch (err) {
    res.sendStatus(500)
  }
})
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.put(path, callback)` <a name="app_put"></a>

–í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±–µ–∫ –ø—Ä–∏ PUT-–∑–∞–ø—Ä–æ—Å–∞—Ö –∫ `path`. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º `app.all()`.

–ü—Ä–∏–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞:

```js
// –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é `passport`
app.use(passport.authenticate('jwt', { session: false }))

app.put('/post/update/:id', async (req, res) => {
  try {
    await Post.findByIdAndUpdate(req.params.id, req.body)

    res.sendStatus(200)
  } catch (err) {
    res.sendStatus(500)
  }
})
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.render(view, locals?, callback)` <a name="app_render"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—ã–µ HTML –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∫–æ–ª–±–µ–∫. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä - –æ–±—ä–µ–∫—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –ü–æ—Ö–æ–∂ –Ω–∞ `res.render()`, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É. `res.render()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `app.render()` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.route(path)` <a name="app_route"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞–º–∏. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —ç—Ç–∏–º –æ—à–∏–±–æ–∫:

```js
const app = express()

app.route('/events')
  .all((req, res, next) => {
    // –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  })
  .get((req, res, next) => {
    res.json()
  })
  .post((res, req, next) => {...})
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.set(name, value)` <a name="app_set"></a>

–ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ. –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫—Ä–æ–º–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (—Å–º. –Ω–∏–∂–µ).

–í—ã–∑–æ–≤ `app.set('foo', true)` –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –≤—ã–∑–æ–≤—É `app.enable('foo')`, –∞ –≤—ã–∑–æ–≤ `app.set('foo', false)` - `app.disable('foo')`.

–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `app.get()`:

```js
app.set('title', 'My Site')
app.get('title') // My Site
```

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*, —á—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ.

- `case sensitive routing: undefined` - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- `env: process.env.NODE_ENV | 'development' (process.env.NODE_ENV === undefined)` - —Ä–µ–∂–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `etag: weak` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Etag`
- `jsonp callback name: 'callback'` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–±–µ–∫–∞ JSONP
- `json escape: undefined` - –≤–∫–ª—é—á–∞–µ—Ç –æ–±–µ–∑–≤—Ä–µ–∂–∏–≤–∞–Ω–∏–µ JSON-–æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ `res.json`, `res.jsonp` –∏ `res.send`. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Å—É–±–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- `json replacer: undefined` - –∞—Ä–≥—É–º–µ–Ω—Ç `replacer` –º–µ—Ç–æ–¥–∞ `JSON.stringify()`. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Å—É–±–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- `json spaces: undefined` - –∞—Ä–≥—É–º–µ–Ω—Ç `space` –º–µ—Ç–æ–¥–∞ `JSON.stringify()`. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Å—É–±–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- `query parser: 'extended'` - –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ä–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ `false`, `simple` - `querystring`, `extended` - `qs`. –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç—Ä–æ–∫—É –∑–∞–ø—Ä–æ—Å–∞ –∏ –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç —Å –∫–ª—é—á–∞–º–∏ —Å—Ç—Ä–æ–∫–∏ –∏ –µ–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- `strict routing: undefined` - —Å—Ç—Ä–æ–≥–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Å—É–±–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- `subdomain offset: 2` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–æ—á–∫–æ–π —á–∞—Å—Ç–µ–π —Ö–æ—Å—Ç–∞, —É–¥–∞–ª—è–µ–º—ã—Ö –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –ø–æ–¥–¥–æ–º–µ–Ω—É
- `trust proxy: false` - —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä, –∞ —Ç–∞–∫–∂–µ —á—Ç–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ IP –∞–¥—Ä–µ—Å–∞ –∫–ª–∏–µ–Ω—Ç–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ `X-Forwarded-*`. *–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: –Ω–∞–∑–≤–∞–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ª–µ–≥–∫–æ –ø–æ–¥–¥–µ–ª—ã–≤–∞—é—Ç—Å—è, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ IP —è–≤–ª—è—é—Ç—Å—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–º–∏. –ú–∞—Å—Å–∏–≤ IP, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–º –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `req.ips`. –î–∞–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ `proxy-addr`. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Å—É–±–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- `views: process.cwd() + '/views'` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏–ª–∏ –º–∞—Å—Å–∏–≤ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `view cache: true (production) | undefined` - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
- `view engine: undefined` - –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–≤–∏–∂–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —Å—É–±–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- `x-powered-by: true` - –≤–∫–ª—é—á–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Powered-By: Express`

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `app.use(path?, callback, callback?)` <a name="app_use"></a>

- [–û–ø–∏—Å–∞–Ω–∏–µ](#use_desc)
- [–ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫](#use_err)
- [–ü—Ä–∏–º–µ—Ä—ã –ø—É—Ç–µ–π](#use_path)
- [–ü—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤](#use_mid)

<div align="right">
  <b><a href="#app_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

–ú–æ–Ω—Ç–∏—Ä—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ (–∏–ª–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤) –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—É—Ç—å: –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `path`. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º `app.all()`.

#### –û–ø–∏—Å–∞–Ω–∏–µ <a name="use_desc">

–ï—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç–µ–º, —Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, `app.use('/apple', ...)` –±—É–¥–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `/apple`, `/apple/images`, `/apple/images/news` –∏ —Ç.–¥.

–ü–æ—Å–∫–æ–ª—å–∫—É –ø—É—Ç–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —è–≤–ª—è–µ—Ç—Å—è `/`, –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –±–µ–∑ –ø—É—Ç–∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–ª—è –ª—é–±–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:

```js
app.use((req, res, next) => {
  console.log(`–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è ${new Date().toLocaleTimeString()}`)
  next()
})
```

–ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Ç–∞–∫ —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ –∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–≤–∫–ª—é—á–µ–Ω–∏—è) –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—á–µ–Ω—å –≤–∞–∂–µ–Ω:

```js
// –¥–∞–Ω–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–ø—Ä–æ—Å—É –≤—ã–π—Ç–∏ –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª—ã
app.use((req, res, next) => {
  res.send('–¢—ã —Å–æ –º–Ω–æ–π –Ω–∞–≤—Å–µ–≥–¥–∞')
})

// –∑–∞–ø—Ä–æ—Å—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç —ç—Ç–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
app.get('/', (req, res) => {
  res.send('I miss you')
})
```

<div align="right">
  <b><a href="#app_use">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### –ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ <a name="use_err"></a>

–ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤ —Ç–µ–º, —á—Ç–æ –ø—Ä–∏–Ω–∏–º–∞—é—Ç 4 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤–º–µ—Å—Ç–æ 3. *–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: –¥–∞–∂–µ –µ—Å–ª–∏ –≤–∞–º –Ω–µ –Ω—É–∂–µ–Ω –º–µ—Ç–æ–¥ `next()`, –≤—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–æ–ª–∂–Ω—ã –µ–≥–æ —É–∫–∞–∑–∞—Ç—å –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä—ã, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –æ–±—ã—á–Ω—ã–π:

```js
app.use((err, req, res, next) => {
  console.error(err.stack)
  res.status(500).send('–ß—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å')
})
```

<div align="right">
  <b><a href="#app_use">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>


#### –ü—Ä–∏–º–µ—Ä—ã –ø—É—Ç–µ–π <a name="use_path"></a>

```js
/* path - –ø—É—Ç—å */
// —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç—è–º–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–º–∏—Å—è —Å `/abcd`
app.use('/abcd', ...)

/* path pattern - –ø–∞—Ç—Ç–µ—Ä–Ω –ø—É—Ç–∏ */
// —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `/abcd` –∏ `/abd`
app.use('/abc?d', ...)

// —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `/abcd`, `/abbcd`, `/abbbbbcd` –∏ —Ç.–¥.
app.use('/ab+cd', ...)

// —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `/abcd`, `/abxcd`, `/abFOOcd`, `/abbArcd` –∏ —Ç.–¥.
app.use('/ab*cd', ...)

// —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç—è–º–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–º–∏—Å—è —Å `/ad` –∏ `/abcd`
app.use('/a(bc)?d', ...)

/* —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ */
// —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç—è–º–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–º–∏—Å—è —Å `/abc` –∏ `/xyz`
app.use(/\/abc|\/xyz/, ...)

/* –º–∞—Å—Å–∏–≤ */
// —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø—É—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `/abcd`, `/xyza`, `/lmn` –∏ `/pqr`
app.use(['/abcd', '/xyza', /\/lmn|\/pqr/], ...)
```

<div align="right">
  <b><a href="#app_use">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

#### –ü—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤ <a name="use_mid">

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `app.use()`, –Ω–æ —Ç–æ–∂–µ —Å–∞–º–æ–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ `app.METHOD()` –∏ `app.all()`.

```js
/* –µ–¥–∏–Ω–∏—á–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ */
app.use((req, res, next) => {
  next()
})

// —Ä–æ—É—Ç–µ—Ä - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫
const router = express.Router()
router.get('/', (req, res, next) => {
  next()
})
app.use(router)

// –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `Express` - —ç—Ç–æ —Ç–∞–∫–∂–µ –≤–∞–ª–∏–¥–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫
const sub = express()
sub.get('/', (req, res, next) => {
  next()
})
app.use(sub)

/* –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤ */
const r1 = express.Router()
rq.get('/', (req, res, next) => {
  next()
})

const r2 = express.Router()
r2.get('/', (req, res, next) => {
  next()
})

app.use(r1, r2)

/* –º–∞—Å—Å–∏–≤ */
const r1 = express.Router()
rq.get('/', (req, res, next) => {
  next()
})

const r2 = express.Router()
r2.get('/', (req, res, next) => {
  next()
})

app.use([r1, r2])

/* –∫–æ–º–±–∏–Ω–∞—Ü–∏—è */
function mw1 (req, res, next) { next() }
function mw2 (req, res, next) { next() }

const r1 = express.Router()
r1.get('/', function (req, res, next) { next() })

const r2 = express.Router()
r2.get('/', function (req, res, next) { next() })

const sub = express()
sub.get('/', function (req, res, next) { next() })

app.use(mw1, [mw2, r1, r2], sub)
```

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ `express.static()`:

```js
// –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `public`
// GET /style.css –∏ —Ç.–¥.
app.use(express.static(path.join(__dirname, 'public')))

// –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å `/static`
app.use('/static', express.static(path.join(__dirname, 'public')))

// –æ—Ç–∫–ª—é—á–∞–µ—Ç –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
app.use(express.static(path.join(__dirname, 'public')))
app.use(morgan())

// –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ (`static` –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
app.use(express.static(path.join(__dirname, 'public')))
app.use(express.static(path.join(__dirname, 'files')))
app.use(express.static(path.join(__dirname, 'uploads')))
```

<div align="right">
  <b><a href="#app_use">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## Request (–∑–∞–ø—Ä–æ—Å) <a name="request"></a>

- [–°–≤–æ–π—Å—Ç–≤–∞](#req_props)
- [–ú–µ—Ç–æ–¥—ã](#req_methods)

<div align="right">
  <b><a href="#">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

–û–±—ä–µ–∫—Ç `req` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π HTTP –∑–∞–ø—Ä–æ—Å –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (query string), –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (parameters), —Ç–µ–ª–∞ (body), HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (HTTP headers) –∏ —Ç.–¥. –ù–∞–∑–≤–∞–Ω–∏–µ `req` - —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ, –¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–∞–∫ –∏ –æ–±—ä–µ–∫—Ç `res` (response, –æ—Ç–≤–µ—Ç), –º–æ–≥—É—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ —É–≥–æ–¥–Ω–æ, –Ω–æ –ª—É—á—à–µ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–æ–≥–ª–∞—à–µ–Ω–∏—è.

```js
app.get('/', (req, res) => {
  res.send(`user ${req.params.id}`)
})
```

## –°–≤–æ–π—Å—Ç–≤–∞ <a name="req_props"></a>

- [req.app](#req_app)
- [req.baseUrl](#req_baseurl)
- [req.body](#req_body)
- [req.cookies](#req_cookies)
- [req.fresh](#req_fresh)
- [req.host](#req_host)
- [req.hostname](#req_hostname)
- [req.ip](#req_ip)
- [req.ips](#req_ips)
- [req.method](#req_method)
- [req.originalUrl](#req_originalUrl)
- [req.params](#req_params)
- [req.path](#req_path)
- [req.protocol](#req_protocol)
- [req.query](#req_query)
- [req.route](#req_route)
- [req.secure](#req_secure)
- [req.signedCookies](#req_signedCookies)
- [req.stale](#req_stale)
- [req.subdomains](#req_subdomains)
- [req.xhr](#req_xhr)

<div align="right">
  <b><a href="#request">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.app` <a name="req_app"></a>

–î–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã —Å–æ–∑–¥–∞–µ–º –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞, –∏ `require()` –µ–≥–æ –≤ –≥–ª–∞–≤–Ω–æ–º —Ñ–∞–π–ª–µ, —Ç–æ–≥–¥–∞ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —á–µ—Ä–µ–∑ `req.app`:

```js
// index.js
app.get('/viewdir', require('./middleware.js'))
```

```js
// middleware.js
module.exports = (req, res) => {
  res.send(`–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏ - ${req.app.get('views')}`)
}
```

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.baseUrl` <a name="req_baseurl"></a>

–ü—É—Ç—å URL, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞. –ü–æ—Ö–æ–∂ –Ω–∞ `app.mountpath`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–≤–ø–∞–≤—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—É—Ç–∏.

```js
const greet = express()

greet.get('/jp', (req, res) => {
  console.log(req.baseUrl) // greet
  res.send('Konichiwa!')
})

app.use('/greet', greet) // –∑–∞–≥—Ä—É–∂–∞–µ–º —Ä–æ—É—Ç–µ—Ä –Ω–∞ `/greet`
```

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.body` <a name="req_body"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤ –∑–∞–ø—Ä–æ—Å–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `undefined` –∏ –Ω–∞–ø–æ–ª—è–Ω–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–∫–∏–º–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞–º–∏, –∫–∞–∫ `express.json` –∏–ª–∏ `multer`:

```js
const express = require('express')
const multer = require('multer')
const app = express()
const upload = multer() // –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ `multipart/form-data`

app.use(express.json()) // –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ `application/json`
app.use(express.urlencoded({extended: true})) // –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ application/x-www-form-urlencoded

app.post('/profile', upload.array(), (req, res, next) => {
  console.log(req.body)
  req.json(req.body)
})
```

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.cookies` <a name="req_cookies"></a>

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ `cookie-parser` –¥–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∫—É–∫–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞, –∏–ª–∏ –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç, –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—É–∫–∏.

```js
// Cookie: name=john
console.log(req.cookies.name) // john
```

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º –∫—É–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `req.signedCookies`.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.fresh` <a name="req_fresh"></a>

–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —è–≤–ª—è–µ—Ç—Å—è "—Å–≤–µ–∂–∏–º" –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫—ç—à–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `true`, –∏–Ω–∞—á–µ, –≤–æ–∑—Ä–∞—â–∞–µ—Ç—Å—è `false` - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫—ç—à –∫–ª–∏–µ–Ω—Ç–∞ —É—Å—Ç–∞—Ä–µ–ª –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç. –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–ª–∏–µ–Ω—Ç–æ–º `Cache-Control: no-cache`, –¥–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –≤–µ—Ä–Ω–µ—Ç `false` –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–∞.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.host` <a name="req_host"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Å—Ç, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Host`. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `trust proxy` –∑–Ω–∞—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ —è–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `X-Forwarded-Host`. –î–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º –∏–ª–∏ –ø—Ä–æ–∫—Å–∏. –ï—Å–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –∏–º–µ–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ `X-Forwarded-Host`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.hostname` <a name="req_hostname"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Ö–æ—Å—Ç–∞ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Host` –∏–ª–∏ `X-Forwarded-Host`.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.ip` <a name="req_ip"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–π IP-–∞–¥—Ä–µ—Å –∑–∞–ø—Ä–æ—Å–∞. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `trust proxy`, –∑–Ω–∞—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω—è—è –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-Forwarded-For`. –î–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º –∏–ª–∏ –ø—Ä–æ–∫—Å–∏.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.ips` <a name="req_ips"></a>

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `trust proxy`, –¥–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ IP-–∞–¥—Ä–µ—Å–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-Forwarded-For`. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.method` <a name="req_method"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ HTTP-–º–µ—Ç–æ–¥–∞ –∑–∞–ø—Ä–æ—Å–∞: GET, POST, PUT, DELETE –∏ —Ç.–¥.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.originalUrl` <a name="req_originalUrl"></a>

–î–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ `req.url`, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –ø–æ–∑–≤–æ–ª—è—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å `req.url` –¥–ª—è —Ü–µ–ª–µ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `app.use()` –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç `req.url` —Ç–æ—á–∫–æ–π –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

`req.originalUrl` –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –≤ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞—Ö, —Ç–∞–∫ –∏ –≤ —Ä–æ—É—Ç–µ—Ä–∞—Ö –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏—é `req.baseUrl` –∏ `req.url`:

```js
// GET 'http://www.example.com/admin/new?sort=desc'
app.use('/admin', (req, res, next) => {
  console.log(req.originalUrl) // '/admin/new?sort=desc'
  console.log(req.baseUrl) // '/admin'
  console.log(req.path) // '/new'
  next()
})
```

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.params` <a name="req_params"></a>

–î–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–≤–æ–π—Å—Ç–≤–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç `user/:name`, —Ç–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `name` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `req.params.name`. –î–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è `{}`.

```js
// GET /user/john
console.log(req.params.name) // john
```

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞, –≥—Ä—É–ø–ø—ã –∑–∞—Ö–≤–∞—Ç–∞ (`()`) –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤ —Å –¥–æ—Å—Ç—É–ø–æ–º —á–µ—Ä–µ–∑ `req.params[n]`, –≥–¥–µ `n` - –∏—Ç–∞—è –≥—Ä—É–ø–ø–∞ –∑–∞—Ö–≤–∞—Ç–∞. –î–∞–Ω–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ "–¥–∏–∫–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫" (wild cards), —Ç–∞–∫–∏—Ö –∫–∞–∫ `/file/*`:

```js
// GET /file/scripts/lodash.min.js
console.log(req.params[0]) // scripts/lodash.min.js
```

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–π –≤ `req.params` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `app.param()`. –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–º–∏–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –≤ –º–∞—Ä—à—Ä—É—Ç–µ.

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: `Express` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ `req.params` —Å –ø–æ–º–æ—â—å—é `decodeURIComponent()`.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.path` <a name="req_path"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Ç—å –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ URL:

```js
// example.com/users?sort=desc
console.log(req.path) // /users
```

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.protocol` <a name="req_protocol"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª URL: `http` –∏–ª–∏ `https` (`trust proxy` - –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `X-Forwarded-Proto`).

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.query` <a name="req_query"></a>

–î–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞. –ï—Å–ª–∏ –ø–∞—Ä—Å–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç–∫–ª—é—á–µ–Ω, –∑–Ω–∞—á–µ–Ω–∏–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ —è–≤–ª—è–µ—Ç—Å—è `{}`.

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: –∑–Ω–∞—á–µ–Ω–∏—è `req.query` —è–≤–ª—è—é—Ç—Å—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–º–∏ –∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.

```js
// GET /search?q=john+smith
console.log(req.query.q) // john smith

// GET /shoes?order=desc&shoe[color]=blue&shoe[type]=converse
console.log(req.query.order) // desc

console.log(req.query.shoe.color) // blue

console.log(req.query.shoe.type) // converse

// GET /shoes?color[]=blue&color[]=black&color[]=red
console.log(req.query.color) // [blue, black, red]
```

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.route` <a name="req_route"></a>

–°–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—É—â–∏–π —Å–æ–≤–ø–∞–≤—à–∏–π –º–∞—Ä—à—Ä—É—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```js
app.get('/user/:id?', function userIdHandler(req, res) => {
  console.log(req.route)
  res.send('GET')
})

/*
{ path: '/user/:id?',
  stack:
   [ { handle: [Function: userIdHandler],
       name: 'userIdHandler',
       params: undefined,
       path: undefined,
       keys: [],
       regexp: /^\/?$/i,
       method: 'get' } ],
  methods: { get: true } }
*/
```

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.secure` <a name="req_secure"></a>

–õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –∏–º–µ—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `true`, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (`req.protocol === https`).

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.signedCookies` <a name="req_signedCookies"></a>

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ `cookie-parser`, –¥–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –∫—É–∫–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞, –Ω–µ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –∏ –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. *–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ –∫—É–∫–∏ –Ω–µ –¥–µ–ª–∞–µ—Ç –∏—Ö —Å–∫—Ä—ã—Ç—ã–º–∏ –∏–ª–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏, –Ω–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏ (–ø–æ—Å–∫–æ–ª—å–∫—É —Å–µ–∫—Ä–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è, —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `{}`.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.stale` <a name="req_stale"></a>

–ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å `req.fresh`. –£–∫–∞–∑—ã–≤–∞–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–∞–ø—Ä–æ—Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.subdomains` <a name="req_subdomains"></a>

–ú–∞—Å—Å–∏–≤ –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `subdomain offset: 2` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—á–∞–ª–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ —Å —Å—É–±–¥–æ–º–µ–Ω–∞–º–∏.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.xhr` <a name="req_xhr"></a>

`true`, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞ `X-Requested-With` —è–≤–ª—è–µ—Ç—Å—è `XMLHttpRequest`.

<div align="right">
  <b><a href="#req_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## –ú–µ—Ç–æ–¥—ã <a name="req_methods"></a>

- [req.accepts](#req_accepts)
- [req.acceptsCharsets](#req_charsets)
- [req.acceptsEncoding](#req_encoding)
- [req.acceptsLanguages](#req_langs)
- [req.get](#req_get)
- [req.is](#req_is)
- [req.range](#req_range)

<div align="right">
  <b><a href="#">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.accepts(type(s))` <a name="req_accepts"></a>

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–º (–ø—Ä–∏–Ω–∏–º–∞–µ–º—ã–º) –Ω–∞ –æ—Å–Ω–æ–≤–µ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ `Accept`. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç "–ª—É—á—à–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ" –∏–ª–∏ `false` (–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ—Ç `406 'Not Acceptable'`). `type` - MIME-—Ç–∏–ø –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `application/json`), –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`json`), —Å–ø–∏—Å–æ–∫, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–π –∑–∞–ø—è—Ç—ã–º–∏, –∏–ª–∏ –º–∞—Å—Å–∏–≤.

<div align="right">
  <b><a href="#req_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.acceptsCharsets(charset(s))` <a name="req_charsets"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—É—é –ø—Ä–∏–Ω–∏–º–∞–µ–º—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É (charset) –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Accept-Charset` –∏–ª–∏ `false`.

<div align="right">
  <b><a href="#req_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.acceptsEncoding(encoding(s))` <a name="req_encoding"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—É—é –ø—Ä–∏–Ω–∏–º–∞–µ–º—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É (encoding) –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Accept-Encoding` –∏–ª–∏ `false`.

*–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `charset` –∏ `encoding`*: `charset` (character set) - –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∫ (mapped to) —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–º, –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º —á–∏—Å–ª–∞–º –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ (code points). –ü—Ä–∏–º–µ—Ä–æ–º —Ç–∞–∫–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —è–≤–ª—è–µ—Ç—Å—è `Unicode`. `encoding` - —Å—Ö–µ–º–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ –≤ –±–∞–π—Ç–∞—Ö. –ü—Ä–∏–º–µ—Ä–æ–º —Ç–∞–∫–æ–π —Å—Ö–µ–º—ã —è–≤–ª—è–µ—Ç—Å—è `UTF-8`. –¢–∞–∫ —á—Ç–æ, –ø–æ —Ö–æ—Ä–æ—à–µ–º—É, —Å—Ç—Ä–æ–∫–∞ `Content-Type: text/html; charset=utf-8` –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ `Content-Type: text/html; encoding=utf-8`.

<div align="right">
  <b><a href="#req_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.acceptsLanguages(lang(s))` <a name="req_langs"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã–π —è–∑—ã–∫ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Accept-Language` –∏–ª–∏ `false`.

<div align="right">
  <b><a href="#req_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.get(field)` <a name="req_get"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞. –°–∏–Ω–æ–Ω–∏–º - `req.header(field)`.

<div align="right">
  <b><a href="#req_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.is(type)` <a name="req_is"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–≤–ø–∞–≤—à–∏–π —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ï—Å–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–µ—Ç —Ç–µ–ª–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `null`. –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `false`.

<div align="right">
  <b><a href="#req_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `req.range(size, options?)` <a name="req_range"></a>

–ü–∞—Ä—Å–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Range`. `size` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ä–µ—Å—É—Ä—Å–∞. `options` - –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–æ–º `combine`, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–º, –¥–æ–ª–∂–Ω—ã –ª–∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –∏ —Å–º–µ–∂–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `false`).

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∏–ª–∏ –æ—à–∏–±–∫–∏ –≤ –≤–∏–¥–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª:

- `-2` - –ø–ª–æ—Ö–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è (malformed) —Å—Ç—Ä–æ–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
- `-1` - –Ω–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π (unsatisfiable) –¥–∏–∞–ø–∞–∑–æ–Ω

<div align="right">
  <b><a href="#req_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## Response (–æ—Ç–≤–µ—Ç) <a name="response"></a>

- [–°–≤–æ–π—Å—Ç–≤–∞](#res_props)
- [–ú–µ—Ç–æ–¥—ã](#res_methods)

`res` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π `Express` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å. –ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è, —Ç–æ –æ–Ω–æ, –∫–∞–∫ –∏ `res`, —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å–æ–≥–ª–∞—à–µ–Ω–∏—è:

```js
app.get('/user/:id', (req, res) => {
  res.send(`user ${req.params.id}`)
})
```

<div align="right">
  <b><a href="#">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## –°–≤–æ–π—Å—Ç–≤–∞ <a name="res_props"></a>

- [res.app](#res_app)
- [res.app](#res_app)
- [res.headersSent](#res_sent)
- [res.locals](#res_locals)

<div align="right">
  <b><a href="#response">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.app` <a name="res_app"></a>

–ò–¥–µ–Ω—Ç–∏—á–Ω–æ `req.app`.

<div align="right">
  <b><a href="#res_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.headersSent` <a name="res_sent"></a>

–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ, –±—ã–ª–∏ –ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–∞.

```js
app.get('/', (req, res) => {
  console.log(res.headersSent) // false
  res.send('ok')
  console.log(res.headersSent) // true
})
```

<div align="right">
  <b><a href="#res_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.locals` <a name="res_locals"></a>

–û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ (scoped) –∑–∞–ø—Ä–æ—Å—É –∏ –ø–æ—ç—Ç–æ–º—É –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–ø—Ä–æ—Å/–æ—Ç–≤–µ—Ç. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –¥–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ `app.locals`.

`res.locals` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—É—Ç–∏, —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ç.–¥.

```js
app.use((req, res, next) => {
  res.locals.user = req.user
  res.locals.authenticated = !req.user.anonymous
  next()
})
```

<div align="right">
  <b><a href="#res_props">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## –ú–µ—Ç–æ–¥—ã <a name="res_methods"></a>

- [res.append](#res_append)
- [res.attachement](#res_attachement)
- [res.cookie](#res_cookie)
- [res.clearCookie](#res_clear)
- [res.download](#res_download)
- [res.end](#res_end)
- [res.format](#res_format)
- [res.get](#res_get)
- [res.json](#res_json)
- [res.jsonp](#res_jsonp)
- [res.links](#res_links)
- [res.location](#res_location)
- [res.redirect](#res_redirect)
- [res.render](#res_render)
- [res.send](#res_send)
- [res.sendFile](#res_file)
- [res.sendStatus](#res_sendstatus)
- [res.set](#res_set)
- [res.status](#res_status)
- [res.type](#res_type)
- [res.vary](#res_vary)

<div align="right">
  <b><a href="#response">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.append(field, value?)` <a name="res_append"></a>

–î–æ–±–∞–≤–ª—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∑–∞–≥–æ–ª–æ–≤–∫ –æ—Ç–≤–µ—Ç–∞. –ï—Å–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –æ–Ω —Å–æ–∑–¥–∞–µ—Ç—Å—è. `value` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π –∏–ª–∏ –º–∞—Å—Å–∏–≤–æ–º.

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: –≤—ã–∑–æ–≤ `res.set()` –ø–æ—Å–ª–µ `res.append()` —Å–±—Ä–æ—Å–∏—Ç —Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞.

```js
res.append('Link', ['<http://localhost/>', '<http://localhost:3000/>'])
res.append('Set-Cookie', 'foo=bar; Path=/; HttpOnly')
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.attachement(filename?)` <a name="res_attachement"></a>

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–≤–µ—Ç–∞ `Content-Disposition` –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `attachment`. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç `filename`, —Ç–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type` (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é `res.type()`) –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `filename=` –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Content-Disposition`.

```js
res.attachment()
// Content-Disposition: attachment

res.attachment('path/to/logo.png')
// Content-Disposition: attachment; filename="logo.png"
// Content-Type: image/png
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.cookie(name, value, options?)` <a name="res_cookie"></a>

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫—É–∫–∏ —Å –∏–º–µ–Ω–µ–º `name` –∑–Ω–∞—á–µ–Ω–∏–µ `value`. `value` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π –∏–ª–∏ –æ–±—ä–µ–∫—Ç–æ–º, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–º –≤ JSON. –û–±—ä–µ–∫—Ç `options` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:

- `domain: app domain` - –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞
- `encode: encodeURIComponent` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∫—É–∫–∏
- `expires` - –≤—Ä–µ–º—è —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏—è (expiry date) –∫—É–∫–∏ –≤ GMT. –ï—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏–ª–∏ —Ä–∞–≤–Ω—è–µ—Ç—Å—è 0, —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏–æ–Ω–Ω–æ–µ –∫—É–∫–∏
- `httpOnly` - –¥–µ–ª–∞–µ—Ç –∫—É–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
- `maxAge` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—É–∫–∏ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —Ç–µ–∫—É—â–µ–º—É –≤—Ä–µ–º–µ–Ω–∏ –≤ –º—Å
- `path: '/'` - –∞–¥—Ä–µ—Å –∫—É–∫–∏
- `secure` - –¥–µ–ª–∞–µ—Ç –∫—É–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTPS
- `signed` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ –∫—É–∫–∏ –±—ã—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º
- `sameSite` - –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ `Same-Site` –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Set-Cookie`

```js
res.cookie('name', 'john', { domain: '.example.com', path: '/admin', secure: true })
res.cookie('rememberme', '1', { expires: new Date(Date.now() + 86400e3).toUTCString(), httpOnly: true })
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.clearCookie(name, options?)` <a name="res_clear"></a>

–£–¥–∞–ª—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∫—É–∫–∏. –ö—É–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ `options`.

```js
res.cookie('name', 'john', { path: '/admin' })
res.clearCookie('name', { path: '/admin' })
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.download(path, filename?, options?, fn?)` <a name="res_download"></a>

–ü–µ—Ä–µ–¥–∞–µ—Ç —Ñ–∞–π–ª –≤ –∫–∞—á–µ—Å—Ç–≤–µ `attachment`. –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `filename`. –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥–∞—á–∏, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–ª–±–µ–∫. –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `res.sendFile()`. –ê—Ä–≥—É–º–µ–Ω—Ç `options` –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –∞—Ä–≥—É–º–µ–Ω—Ç—É `options` –≤ `res.sendFile()`.

```js
res.download('/report-12345.pdf')

res.download('/report-12345.pdf', 'report.pdf')

res.download('/report-12345.pdf', 'report.pdf', (err) => {
  if (err) {
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É, –Ω–æ –ø–æ–º–Ω–∏–º –æ —Ç–æ–º, —á—Ç–æ –æ—Ç–≤–µ—Ç –º–æ–≥ –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —á–∞—Å—Ç–∏—á–Ω–æ,
    // –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–≤–µ—Ä—è–µ–º `res.headersSent`
  } else {
    // ...
  }
})
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.end(data?, encoding?)` <a name="res_end"></a>

–ó–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–≤–µ—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `res.send()` –∏–ª–∏ `res.json()`.

```js
res.end()
res.status(404).end()
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.format(object)` <a name="res_format"></a>

–û—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∑–∞–ø—Ä–æ—Å–∞ `Accept`. –î–ª—è –≤—ã–±–æ—Ä–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `req.accepts()`. –ï—Å–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –∫–æ–ª–±–µ–∫. –ü—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç `406 'Not Acceptable'` –∏–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±–µ–∫ `default`.

```js
res.format({
  'text/plain': () => {
    res.send('–ø—Ä–∏–≤–µ—Ç')
  },

  'text/html': () => {
    res.send('<p>–ø—Ä–∏–≤–µ—Ç</p>')
  },

  'application/json': () => {
    res.send({ message: '–ø—Ä–∏–≤–µ—Ç' })
  },

  default: () => {
    // –ª–æ–≥–≥–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º 406
    res.status(406).send('Not Acceptable')
  }
})
```

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã—Ç—å –º–µ–Ω–µ–µ "–±–æ–ª—Ç–ª–∏–≤—ã–º" (verbose) –¥–ª—è –∫–∞–Ω–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö MIME-—Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

```js
res.format({
  text: () => {
    res.send('–ø—Ä–∏–≤–µ—Ç')
  },

  html: () => {
    res.send('<p>–ø—Ä–∏–≤–µ—Ç</p>')
  },

  json: () => {
    res.send({ message: '–ø—Ä–∏–≤–µ—Ç' })
  }
})
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.get(field)` <a name="res_get"></a>

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞.

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.json(body?)` <a name="res_json"></a>

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–∏–ø–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞. `body` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ JSON —Å –ø–æ–º–æ—â—å—é `JSON.stringify()`.

```js
res.json(null)
res.json({ user: 'john' })
res.status(500).json({ error: 'message' })
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.jsonp(body?)` <a name="res_jsonp"></a>

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSONP.

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.links(links)` <a name="res_links"></a>

–î–æ–±–∞–≤–ª—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–≤–µ—Ç–∞ `Link`:

```js
res.links({
  next: 'http://api.example.com/users?page=2',
  last: 'http://api.example.com/users?page=5'
})

/*
Link: <http://api.example.com/users?page=2>; rel="next",
      <http://api.example.com/users?page=5>; rel="last"
*/
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.location(path)` <a name="res_location"></a>

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ `Location`:

```js
res.location('/foo/bar')
res.location('http://example.com')
res.location('back')
```

–ü—É—Ç—å `back` –∏–º–µ–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –æ–Ω —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ URL, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞ `Referer`. –ï—Å–ª–∏ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –æ–Ω —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `/`.

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## `res.redirect(status?, path)` <a name="res_redirect"></a>

–í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–¥–Ω–æ–º—É –∏–∑ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–æ–≤ HTTP. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–∞—Ç—É—Å –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `302 'Found'`.

```js
res.redirect('/foo/bar')
res.redirect('http://example.com')
res.redirect(301, 'http://example.com')
res.redirect('../login')
res.redirect('back')
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## `res.render(view, locals?, callback?)` <a name="res_render"></a>

–†–µ–Ω–¥–µ—Ä–∏—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ç–∫—É –∫–ª–∏–µ–Ω—Ç—É. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

- `locals` - –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- `callback` - –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω, –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—É—é –æ—à–∏–±–∫—É –∏ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É, –ø—Ä–∏ —ç—Ç–æ–º, –æ—Ç–≤–µ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è. –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `next(err)`. `view` - –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `views`) –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

–ï—Å–ª–∏ –≤ –ø—É—Ç–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –æ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `view engine`.

*–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ*: `view` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–µ–Ω–∏–µ —Å –¥–∏—Å–∫–∞ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ Node.js-–º–æ–¥—É–ª–µ–π, –ø–æ—ç—Ç–æ–º—É –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã—Ö, –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

```js
// –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
res.render('index')

// –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –∫–æ–ª–±–µ–∫, –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —è–≤–Ω–æ–º –≤–∏–¥–µ
res.render('index', (err, html) => {
  res.send(html)
})

// –ø–µ—Ä–µ–¥–∞–µ–º –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
res.render('user', { name: 'John' }, (err, html) => {
  // ...
})
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.send(body)` <a name="res_send"></a>

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP-–æ—Ç–≤–µ—Ç.

`body` - `Buffer`, –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Å—Ç—Ä–æ–∫–∞, –º–∞—Å—Å–∏–≤ –∏–ª–∏ –æ–±—ä–µ–∫—Ç:

```js
res.send(Buffer.from('–ø—Ä–∏–≤–µ—Ç'))
res.send({ some: 'json' })
res.send('<p>some html</p>')
res.status(404).send('–ù–µ –Ω–∞–π–¥–µ–Ω–æ!')
res.status(500).send({ error: '–ß—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å' })
```

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –∑–∞–¥–∞—á, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Length` –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É "—Å–≤–µ–∂–µ—Å—Ç–∏" –∫—ç—à–∞ —á–µ—Ä–µ–∑ `HEAD` –∏ `HTTP` .

–ï—Å–ª–∏ `body` - —ç—Ç–æ `Buffer`, —Ç–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º `Content-Type` —è–≤–ª—è–µ—Ç—Å—è `application/octet-stream`. –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ - `text/html`. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –∏–ª–∏ –º–∞—Å—Å–∏–≤ - `application/json`.

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.sendFile(filename, options?, fn?)` <a name="res_file"></a>

–ü–µ—Ä–µ–¥–∞–µ—Ç —Ñ–∞–π–ª, –Ω–∞—Ö–æ–¥—è—â–∏–π—Å—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∞–¥—Ä–µ—Å—É. `Content-Type` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞. –î–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `root`, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º.

–ù–∞—Å—Ç—Ä–æ–π–∫–∏:

- `maxAge: 0` - –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Cache-Control` –≤ –º—Å –∏–ª–∏ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏
- `root` - –∫–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- `lastModified: true` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Last-Modified`
- `headers` - –∑–∞–≥–æ–ª–æ–≤–∫–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å —Ñ–∞–π–ª–æ–º
- `dotfiles: 'ignore'` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–æ–ª–∂–Ω—ã –ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Ñ–∞–π–ª—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å —Ç–æ—á–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, `.env`. –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `allow`, `deny`, `ignore`
- `acceptRanges: true` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É "–¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã—Ö" –∑–∞–ø—Ä–æ—Å–æ–≤
- `cacheControl: true` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–∫–ª—é—á–µ–Ω–∏–µ –≤ –æ—Ç–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Cache-Control`
- `immutable: false` - —Å–º. `express.static()`

–ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –∫–æ–ª–±–µ–∫, –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ (`fn(err)`). –ü—Ä–∏ —ç—Ç–æ–º, –∫–æ–ª–±–µ–∫ –¥–æ–ª–∂–µ–Ω —è–≤–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å/–æ—Ç–≤–µ—Ç –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ—Å—Ä–µ–¥–Ω–∏–∫—É.

```js
app.get('/file/:name', (req, res, next) => {
  const options = {
    root: path.join(__dirname, 'public'),
    dotfiles: 'deny',
    headers: {
      'x-timestamp': Date.now(),
      'x-sent': true
    }
  }

  const fileName = req.params.name
  res.sendFile(fileName, options, (err) => {
    if (err) {
      next(err)
    } else {
      console.log(`${filename} —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω`)
    }
  })
})
```

```js
app.get('/user/:uid/photos/:file', (req, res) => {
  const uid = req.params.uid
  const file = req.params.file

  req.user.mayViewFilesFrom(uid, (yes) => {
    if (yes) {
      res.sendFile(`/uploads/${uid}/${file}`)
    } else {
      res.status(403).json({ error: '–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —É –í–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–∏–º —Ñ–∞–π–ª–∞–º' })
    }
  })
})
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.sendStatus(code)` <a name="res_sendstatus"></a>

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É:

```js
res.sendStatus(200) // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç res.status(200).send('OK')
res.sendStatus(403) // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç res.status(403).send('Forbidden')
res.sendStatus(404) // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç res.status(404).send('Not Found')
res.sendStatus(500) // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç res.status(500).send('Internal Server Error')
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

### `res.set(field, value?)` <a name="res_set"></a>

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `value` –∑–∞–≥–æ–ª–æ–≤–∫–∞ `field`:

```js
res.set('Content-Type', 'text/plain')

res.set({
  'Content-Type': 'text/plain',
  'Content-Length': '123',
  ETag: '12345'
})
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

–°–∏–Ω–æ–Ω–∏–º `res.header()`.

### `res.status(code)` <a name="res_status"></a>

–£—Å—Ç–∞–Ω–∞–≤–ª–≤–∏–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:

```js
res.status(403).end()
res.status(400).send('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å')
res.status(404).sendFile('/error404.html')
```

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## `res.type(type)` <a name="res_type"></a>

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Content-Type`.

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## `res.vary(field)` <a name="res_vary"></a>

–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Vary`.

<div align="right">
  <b><a href="#res_methods">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>

## Router (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä) <a name="router"></a>

–ú–µ—Ç–æ–¥—ã —Ä–æ—É—Ç–µ—Ä–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –º–µ—Ç–æ–¥–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –∏ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏ –¥–ª—è `router.param()` (—Å–º. –Ω–∏–∂–µ).

- `router.all(path, callback?)`
- `roter.METHOD(path, callback?)`

- `router.param(name, callback)` - –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `app.param()`, –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

–ü–æ–≤–µ–¥–µ–Ω–∏–µ `router.param()` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—é. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞: –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞, –≤—Ç–æ—Ä–æ–π - –æ–±—ä–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞.

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `router.param()` –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∞ –≤ `router.param(name, accessId)`. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å `name` –∏ `callback`, –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `name` –∏ `number`:

```js
const express, { Router } = require('express')
const app = express()
const router = Router()

// –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ `router.param()`
router.param((param, option) =>
  (req, res, next, val) => {
    if ( val === option) next()
    else res.sendStatus(403)
  }
)

// –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
router.param('id', 1234)

// –∑–∞–ø—É—Å–∫–∞–µ–º
router.get('/user/:id', (req, res) => {
  res.send('ok')
})

app.use(router)

app.listen(3000, () => {
  console.log('–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤')
})
```

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `router.param()` –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π, –Ω–æ –≤–º–µ—Å—Ç–æ –∫–æ–ª–±–µ–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```js
router.param((param, validator) =>
  (req, res, next, val) => {
    if (validator(val)) next()
    else res.sendStatus(403)
  }
)

router.param('id', (val) => !Number.isNaN(parseFloat(val))) && isFinite(val)
```

- `router.route(path)`
- `router.use(path?, fn?)`

<div align="right">
  <b><a href="#">‚Ü• –ù–∞–≤–µ—Ä—Ö</a></b>
</div>